<div class="auth-shell">
  <div class="tabs">
    <button [class.active]="mode==='signup'" (click)="switch('signup')">Sign up</button>
    <button [class.active]="mode==='login'" (click)="switch('login')">Sign in</button>
  </div>

<form (ngSubmit)="submit()" novalidate>
  @if (error) {
    <p class="alert" aria-live="polite">
      {{ error }}
      <button type="button" class="x" (click)="error=''">×</button>
    </p>
  }

  <fieldset [disabled]="busy">
    <label>
      Email
      <input type="email" name="email" [(ngModel)]="email" required />
    </label>

    <label>
      Password
      <input type="password" name="password" [(ngModel)]="password" minlength="8" required />
    </label>

    <div class="row">
      <button type="submit">
        {{ mode === 'signup' ? 'Sign up' : 'Log in' }}
      </button>
      <button type="button" (click)="switch(mode==='signup' ? 'login' : 'signup')">
        Switch to {{ mode==='signup' ? 'login' : 'signup' }}
      </button>

      @if (busy) {
        <span>Processing…</span>
      }
    </div>
  </fieldset>
</form>




</div>
